<div class="overflow-x-auto">
    {% if leaves %}
    <table class="w-full">
        <thead class="bg-muted/50">
            <tr>
                <th class="text-left p-4 text-sm font-medium text-muted-foreground">Type</th>
                <th class="text-left p-4 text-sm font-medium text-muted-foreground">Dates</th>
                <th class="text-left p-4 text-sm font-medium text-muted-foreground">Applied</th>
                <th class="text-left p-4 text-sm font-medium text-muted-foreground">Status</th>
                <th class="text-left p-4 text-sm font-medium text-muted-foreground">Actions</th>
            </tr>
        </thead>
        <tbody class="divide-y">
            {% for leave in leaves %}
            <tr class="hover:bg-muted/30 transition-colors">
                <td class="p-4">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                        {% if leave.Leave_Type == 'SICK' %}bg-red-100 text-red-700
                        {% elif leave.Leave_Type == 'CASUAL' %}bg-blue-100 text-blue-700
                        {% else %}bg-green-100 text-green-700{% endif %}">
                        {% if leave.Leave_Type == 'SICK' %}Sick
                        {% elif leave.Leave_Type == 'CASUAL' %}Casual
                        {% else %}Earned{% endif %}
                    </span>
                </td>
                <td class="p-4 text-sm text-gray-600">{{ leave.Start_Date|date:"M d, Y" }} - {{ leave.End_Date|date:"M d, Y" }}</td>
                <td class="p-4 text-sm text-gray-600">{{ leave.Applied_On|date:"M d, Y" }}</td>
                <td class="p-4">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                        {% if leave.Status == 'PENDING' %}bg-yellow-100 text-yellow-700
                        {% elif leave.Status == 'APPROVED' %}bg-green-100 text-green-700
                        {% elif leave.Status == 'CANCELLED' %}bg-gray-100 text-gray-700
                        {% else %}bg-red-100 text-red-700{% endif %}">
                        {% if leave.Status == 'PENDING' %}Pending
                        {% elif leave.Status == 'APPROVED' %}Approved
                        {% elif leave.Status == 'CANCELLED' %}Cancelled
                        {% else %}Rejected{% endif %}
                    </span>
                </td>
                <td class="p-4">
                    <button hx-get="/htmx/my-leaves/{{ leave.id }}/"
                            hx-target="#leaveDetailContainer"
                            hx-swap="innerHTML"
                            class="btn btn-sm btn-ghost">
                        <i class="fas fa-eye mr-1"></i>View
                    </button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="p-8 text-center">
        <div class="w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-clipboard-check text-2xl text-muted-foreground"></i>
        </div>
        <h3 class="font-medium text-gray-900 mb-1">No leave requests found</h3>
        <p class="text-sm text-muted-foreground">You haven't submitted any leave requests yet.</p>
    </div>
    {% endif %}
</div>

<!-- Leave Detail Modal Container -->
<div id="leaveDetailContainer"></div>
